language: erlang
sudo: required
# Install cassandra
# Standard Travis cassandra is 2.0.9
# Docker runs on Trusty planform (the new one)
install:
    - docker run -d --net=host -e MAX_HEAP_SIZE=128M -e HEAP_NEWSIZE=64M --name=cassandra cassandra:${CASSANDRA_VERSION}
    - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
    - sudo apt-get update -qq
    - sudo apt-get -qq -y install g++-4.8
    - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 90
script:
    - ./rebar skip_deps=true compile
    - ./rebar skip_deps=true eunit -v

services:
        - docker

otp_release:
    - R16B03
    - 17.5
    - 18.1

env:
    - CASSANDRA_VERSION=2.1
    - CASSANDRA_VERSION=3.1
    - CASSANDRA_VERSION=3.2
